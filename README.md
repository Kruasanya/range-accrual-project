# Моделирование трех скоррелированных риск-факторов (RUB, USD, FX)

Этот проект посвящён построению стохастической модели для трёх взаимосвязанных финансовых факторов:

- **RUONIA** — мгновенная процентная ставка в рублях  
- **SOFR** — мгновенная процентная ставка в долларах США  
- **RUB/USD** — валютный курс рубля к доллару  

Все расчёты, моделирование и симуляции выполняются для дальнейшего применения в **оценке и прогнозировании выплат по продукту Range Accrual**.

---

## Содержание проекта

### **1. Загрузка и очистка данных**
- Импорт исторических рядов RUONIA, SOFR и FX  
- Приведение дат и форматов  
- Объединение данных в общий временной ряд  

### **2. Анализ данных**
- Графики и статистика ставок и FX  
- Исследование волатильности  
- Корреляционный анализ всех факторов  

### **3. Стохастические модели**
- **CIR-модель** для RUONIA и SOFR  
- **GBM (логнормальная модель)** для валютного курса  
- Калибровка параметров моделей на исторических данных  

### **4. Коррелирование факторов**
- Построение ковариационной матрицы  
- Разложение Холецкого  
- Генерация коррелированных шоков для тройки факторов  

### **5. Симуляции**
- Моделирование множества траекторий RUB rate, USD rate и FX  
- Генерация реалистичных сценариев на заданном горизонте  
- Визуализация траекторий  

---

## **Основной продукт: Range Accrual**

Все шаги проекта — от загрузки данных до многомерных симуляций — направлены на создание инструмента для **оценки выплат и прогнозирования поведения Range Accrual продукта**.

Range Accrual зависит от количества дней, когда некоторый базовый показатель находится **в пределах заданного диапазона**.  
Для моделирования такого инструмента необходимы:

- сценарии процентных ставок (RUB/ USD),  
- сценарии валютного курса,  
- коррелированная многомерная динамика факторов,  
- симуляция большого числа путей.

Модель, созданная в этом проекте, позволяет:

- рассчитывать **вероятность нахождения фактора в диапазоне**,  
- оценивать выплату,   
- прогнозировать стоимость продукта.
